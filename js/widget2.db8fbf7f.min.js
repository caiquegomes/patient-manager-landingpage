!function t(e,o,n){function i(r,s){if(!o[r]){if(!e[r]){var u="function"==typeof require&&require;if(!s&&u)return u(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=o[r]={exports:{}};e[r][0].call(c.exports,(function(t){return i(e[r][1][t]||t)}),c,c.exports,t,e,o,n)}return o[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(t,e,o){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=p(t("url-parse")),a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var o=d(e);if(o&&o.has(t))return o.get(t);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var s=a?Object.getOwnPropertyDescriptor(t,r):null;s&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r]}i.default=t,o&&o.set(t,i);return i}(t("dot-object")),r=p(t("js-cookie")),s=p(t("./store")),u=p(t("exit-intent-mobile")),l=p(t("tinycon")),c=p(t("../../../server/public/quriobot/assets/js/QuriobotWidget"));function d(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,o=new WeakMap;return(d=function(t){return t?o:e})(t)}function p(t){return t&&t.__esModule?t:{default:t}}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a])}return o},writable:!0,configurable:!0}),c.default.URL=i.default,c.default.dotObject=a,c.default.store=s.default,c.default.Cookies=r.default,c.default.exitIntent=u.default,c.default.Tinycon=l.default;var f=function(t,e,o,n,i){var a=o?"POST":"GET";i&&(i.useProxy&&(o={url:t,data:o,headers:n},t="/api/proxy"),i.method&&(a=i.method));try{var r=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");i&&i.withCredentials&&(r.withCredentials=!0),r.open(a,t,1),(n=n||{})["Content-Type"]||(n["Content-Type"]="application/json"),Object.keys(n).forEach((function(t){r.setRequestHeader(t,n[t])})),r.onreadystatechange=function(){r.readyState>3&&e&&e(r.responseText,r)},r.send((Object.toJSON||JSON.stringify)(o))}catch(t){window.console&&console.log(t)}};c.default.ajax=f;var h=c.default.init;c.default.init=function(t){for(var e="width=device-width, initial-scale=1",o=window.document.getElementsByTagName("meta"),n=!1,r=0;r<o.length;r++){var s=o[r];if("viewport"===s.name){var u=s.getAttribute("content");(!u||-1===u.indexOf(e)&&-1===u.indexOf("width"))&&s.setAttribute("content",e),n=!0;break}}if(!n){var l=window.document.createElement("meta");l.setAttribute("name","viewport"),l.setAttribute("content",e),window.document.head.appendChild(l)}var d=a.dot(t.context||{}),p=Object.keys(d),g=new i.default(window.location.href,!0);t.api||(t.api={});for(var v=0;v<p.length;v++){var b=p[v],m="qb.".concat(b),w=m.replace(/\./g,"_"),y=d[b];void 0!==g.query[m]&&(y=JSON.parse(g.query[m]),a.str(b,y,t.context)),t.api[w]=function(t,e,o,n){n({base:o.html,content:e},!0)}.bind(undefined,b,y)}var S={onSave:function(t,e,o,n){if(e){var i=c.default.options.saveUrl;if(t.responseId=e,n&&window.navigator&&window.navigator.sendBeacon){var a=new Blob([(Object.toJSON||JSON.stringify)(t)],{type:"text/plain"});window.navigator.sendBeacon(i,a),o&&o()}else f(i,(function(){o&&o()}),t,{"Content-Type":"application/json"})}else o&&o()},onUpdate:function(t,e,o){if(e){var n=c.default.options.updateUrl;t.responseId=e,f(n,(function(){o&&o()}),t,{"Content-Type":"application/json"})}else o&&o()}};for(var C in t)"onSave"!==C&&"onUpdate"!==C&&S[C]||(S[C]=t[C]);t.onSave&&!t.onUpdate&&delete S.onUpdate,h(S)};var g=c.default;o.default=g},{"../../../server/public/quriobot/assets/js/QuriobotWidget":4,"./store":2,"dot-object":6,"exit-intent-mobile":7,"js-cookie":8,tinycon:18,"url-parse":19}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=l(t("store/src/store-engine")),i=l(t("store/storages/localStorage")),a=l(t("store/storages/cookieStorage")),r=l(t("store/storages/memoryStorage")),s=l(t("store/plugins/defaults")),u=l(t("store/plugins/expire"));function l(t){return t&&t.__esModule?t:{default:t}}var c=[i.default,a.default,r.default],d=[s.default,u.default],p=n.default.createStore(c,d);p.addPlugin((function(){return{set:function(t,e,o){try{return t()}catch(e){return this.clearAll(),t()}}}}));var f=p;o.default=f},{"store/plugins/defaults":11,"store/plugins/expire":12,"store/src/store-engine":13,"store/storages/cookieStorage":15,"store/storages/localStorage":16,"store/storages/memoryStorage":17}],3:[function(require,module,exports){(function(qbBaseURL){(function(){"use strict";var _quriobot=_interopRequireDefault(require("./common/scripts/quriobot"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}if(void 0!==window.quriobot)throw new Error("Script is included twice!");window.botsrv=window.quriobot=_quriobot.default;var ready=function(t){if("complete"===window.document.readyState)return t();window.addEventListener?window.addEventListener("load",t,!1):window.attachEvent?window.attachEvent("onload",t):window.onload=t},init=_quriobot.default.init;window.quriobot.init=function(qbOptions){!qbOptions&&Array.isArray(window.qbOptions)&&window.qbOptions.length&&(qbOptions=window.qbOptions[window.qbOptions.length-1]);var path="object"===_typeof(qbOptions)&&qbOptions&&qbOptions.use;if(!path&&Array.isArray(window.qbOptions)&&window.qbOptions.length&&(qbOptions=Object.assign(qbOptions,window.qbOptions[window.qbOptions.length-1],qbOptions),path=qbOptions.use),path){var baseURL="object"===_typeof(qbOptions)&&qbOptions&&qbOptions.baseUrl||qbBaseURL,dataURL=new window.quriobot.URL("".concat(baseURL,"/qb/data2/").concat(path),!0),currentURL=new window.quriobot.URL(window.location.href,!0);if(dataURL.query=currentURL.query,dataURL.query.qbReferer=window.location.href,dataURL.query.qbVersion=(new Date).getTime(),!dataURL.query.lang&&qbOptions.language&&(dataURL.query.lang=qbOptions.language),!dataURL.query.lang){var lang=window.quriobot.store.get("qbLang-".concat(path));if(!lang){if(window.google&&window.google.translate&&window.google.translate.TranslateElement&&window.google.translate.TranslateElement.getInstance){var translateInstance=window.google.translate.TranslateElement.getInstance();if(translateInstance){var _googleLang=translateInstance.j;!_googleLang||translateInstance.B&&translateInstance.B[_googleLang]||(lang=_googleLang)}}var googleLang=_quriobot.default.Cookies.get("googtrans");!lang&&googleLang&&(lang=googleLang.split("/").pop())}lang&&(dataURL.query.lang=lang)}var dataURLString=dataURL.toString();window.quriobot.ajax(dataURLString,(function(responseText,request){if(200===request.status){var qbDATA=JSON.parse(responseText),fromServer=qbDATA,options=fromServer.widgetOptions;if("object"===_typeof(options))if(_quriobot.default.inited)console.error("Widget is already initialized, make sure that the trigger conditions for the included bots are mutially exclusive!");else{if(options.initOptions&&options.initOptions.trim())try{var initOptions=eval("(".concat(options.initOptions,")"));options=Object.assign(options,initOptions||"{}")}catch(t){console.error("Error evaluating the init options",t)}if("object"===_typeof(qbOptions)&&qbOptions)for(var opt in qbOptions)options[opt]=qbOptions[opt];options.dataUrl=dataURLString,options.loadStyles=!0,init(options)}}else console.error("Error getting the widget data:",request.status)}),null,null,{withCredentials:!0})}else{var message="path is not provided nor can be obtained from the last element of window.qbOptions!";console.error(message)}},ready((function(){Array.isArray(window.qbOptions)||(window.qbOptions=[]);for(var t=function(t){var e=window.qbOptions[t];if(e.onScriptLoad)try{window[e.onScriptLoad]()}catch(t){console.error(t)}"explicit"!==e.init&&setTimeout((function(){window.quriobot.init(e||{})}),e.delay||0)},e=0;e<window.qbOptions.length;e++)t(e)}))}).call(this)}).call(this,"https://botsrv2.com")},{"./common/scripts/quriobot":1}],4:[function(t,e,o){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=t("cross-safe-eval")(),a={options:{use:null,url:"/qb/data2/",baseUrl:"",saveUrl:"",updateUrl:"",startUrl:"",uploadUrl:"",staticUrl:"",liveChatUrl:"",knowledgeBaseSearchUrl:"",getStepOptionsUrl:"",startButtonTitle:"Start chatbot",language:"en",isRtl:!1,wrapper:"botwrapper",button:"botbutton",autoStart:3e3,autoStartCount:0,maxAutoStartCount:0,restoreState:!0,restartAfterClose:!0,showCloseButton:!0,autoExit:!0,version:"dev",mode:"default",position:"right",positionRtl:"right",preventExitIfIncomplete:!1,widgetCss:null,widgetBaseCss:null,widgetCustomCss:null,visitor:null,whiteLabel:!1,avatarImage:"",viewMode:"unboxed",botOffset:{top:null,bottom:null},stickyAvatarOffset:{bottom:null},stickyAvatarPopup:{showAfterClose:!1,image:null,avatar:null,showOnExitIntent:null,showOnExitIntentMobile:null,showOnExitIntentTimeout:null,showOnExitIntentTimeoutMobile:null,faviconBubble:!0},soundNotifications:{},liveChat:null,openOnExitIntent:null,openOnExitIntentMobile:null,openOnExitIntentTimeout:null,openOnExitIntentTimeoutMobile:null,recaptchaSiteKey:null,loadStyles:!0,init:null,onScriptLoad:null,context:null,botData:null,showStickyAvatar:"always",ga:!1,gaEvents:!1,gtmEvents:!1,preload:!1,branding:{},disableRedo:!1,expiryTimeout:1,visitorTimeout:14,useDynamicTranslation:!1,i18n:{accessibility:{button:"Press this button to turn on accessibility mode"},branding:{title:"Create your own quriobot",url:"https://quriobot.com?utm_source=qb_widget"},foldOut:{close:"Close"},footer:{close:{title:"Close"},more:{title:"More"},restart:{title:"Restart"},settings:{botPosition:{center:"Center",full_width:"Full width",label:"Position",left:"Left",right:"Right"},botResponds:"Bot responds",title:"Settings"},terms:{title:"Terms and conditions"}},notification:{preview:{title:"Preview mode"}},redo:{button:{title:"Redo"}}},entryPoint:null,onAnswer:function(t,e,o){},onAnswerRedo:function(t,e,o){},onExit:function(t){},onFinish:function(t){},onLeave:function(t){},onRedo:function(t,e,o){},onReturn:function(t){},onValidate:function(t,e){e(!0)},onSave:function(t,e,o){o()},onUpdate:function(t,e,o){o()},onLoad:function(t){},onQuestion:function(t,e){},onLiveChat:function(t,e){},onLiveChatMessageCreated:function(t){},onInit:function(){},onStart:function(t){},onSoftStart:function(){},onHide:function(){},onShow:function(){}},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},preventAutoStart:function(){a.autoallowed=!1},allowAutoStart:function(){a.autoallowed=!0,a.autostart()},setCookie:function(t,e,o,n){t=t+"-"+this.options.use;var i=this.options.visitor;!n&&i&&i.id&&(t=t+"-"+i.id),a.store.get(t)!==e&&a.store.set(t,e,o)},deleteCookie:function(t){t=t+"-"+this.options.use;var e=this.options.visitor;e&&e.id&&(t=t+"-"+e.id),a.store.remove(t)},getCookie:function(t,e,o){if(t=t+"-"+this.options.use,!o){var n=this.options.visitor;n&&n.id&&(t=t+"-"+n.id)}var i,r,s;return a.store.defaults((s=e,(r=t)in(i={})?Object.defineProperty(i,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[r]=s,i)),a.store.get(t)},shouldAutoStart:function(t){var e=parseInt(a.getCookie("qbStartCount","0",!0)),o=a.getCookie("qbClosed",!1,!0),n=a.getCookie("qbPopupClosed",!1,!0);a.autoStart=("number"==typeof a.options.autoStart||"boolean"==typeof a.options.autoStart&&a.options.autoStart||t)&&(!a.options.autoStartCount||e>=a.options.autoStartCount)&&(!a.options.maxAutoStartCount||e<a.options.maxAutoStartCount)&&(a.options.restartAfterClose||!o&&!n);var i=a.getRestoreData();return(a.autoStart||a.shouldRestoreState(i)&&i&&!a.isMobile()&&(i.followRedirect||i.isOpen&&i.answers&&i.answers.length))&&!a.hasstarted&&a.autoallowed},autoStartCount:function(){var t=parseInt(a.getCookie("qbStartCount","0",!0));t++,a.setVisitorCookie("qbStartCount",t,!0)},autostart:function(){if("outOfQuota"!==a.options.mode){if(a.options.openOnExitIntent||a.options.openOnExitIntentMobile)a.exitIntent({maxDisplays:1,eventThrottle:200,showAfterInactiveSecondsDesktop:a.options.openOnExitIntent?a.options.openOnExitIntentTimeout/1e3:void 0,showAfterInactiveSecondsMobile:a.options.openOnExitIntentMobile?a.options.openOnExitIntentTimeoutMobile/1e3:void 0,showAgainAfterSeconds:10,onExitIntent:function(){a.shouldAutoStart(!0)&&(a.autoStartCount(),a.soundNotification("start"),a.start())},debug:!1});if(a.shouldAutoStart()){var t=!0===a.options.autoStart?1500:a.options.autoStart;setTimeout((function(){a.shouldAutoStart()&&(a.autoStartCount(),a.soundNotification("start"),a.start())}),t)}}},buttonstart:function(){var t=a.button;if(!1!==a.options.button){a.isMobile();var e=a.options.stickyAvatarPopup.showOnHover;e||t.addEventListener("click",(function(e){t.classList.contains("showPopup")||e.target.id!==a.options.button||a.start()})),a.popupButton&&a.popupButton.addEventListener("click",(function(o){"quriobotPopupButton"===o.target.id&&(a.start(),a.button.classList.contains("showPopup")&&(t.classList.remove("showPopup"),a.button.setAttribute("aria-expanded",!1)),e&&t.classList.add("hoverModeOn"),a.popupClose&&!a.isMobile()&&(a.popupClose.parentNode.removeChild(a.popupClose),a.popupClose=void 0))}))}},avatarPopupClose:function(){var t=a.button;a.popupClose&&a.popupClose.addEventListener("click",(function(){a.setVisitorCookie("qbPopupClosed",!0,!0),t.classList.remove("showPopup"),t.setAttribute("aria-expanded",!1),setTimeout((function(){a.options.stickyAvatarPopup.showOnHover&&t.classList.add("hoverModeOn"),!a.isMobile()&&a.popupClose&&(a.popupClose.parentNode.removeChild(a.popupClose),a.popupClose=void 0)}),1e3)}))},popupAutoShown:!1,showPopup:function(t){this.onPopup(t),a.button.classList.add("showPopup"),t&&a.button.classList.remove("hoverModeOn"),a.button.setAttribute("aria-expanded",!0),a.Tinycon&&!1!==a.options.stickyAvatarPopup.faviconBubble&&a.Tinycon.setBubble(a.liveChatMessageUnread+1)},popupAutoShow:function(){a.show(!0);var t=a.options.stickyAvatarPopup,e=a.button,o=a.getCookie("qbPopupClosed",!1,!0),n=a.getCookie("qbClosed",!1,!0);if(t.autoShow&&e.classList.contains("show")&&(t.showAfterClose||!o&&!n)&&setTimeout((function(){a.showPopup(!0)}),void 0===t.autoShowTimeout?3e3:t.autoShowTimeout),t.showOnExitIntent||t.showOnExitIntentMobile)a.exitIntent({maxDisplays:1,eventThrottle:200,showAfterInactiveSecondsDesktop:t.showOnExitIntent?t.showOnExitIntentTimeout/1e3:void 0,showAfterInactiveSecondsMobile:t.showOnExitIntentMobile?t.showOnExitIntentTimeoutMobile/1e3:void 0,showAgainAfterSeconds:10,onExitIntent:function(){a.showPopup(!0)},debug:!1})},showPopupHandle:function(){var t=a.button,e=a.options.stickyAvatarPopup.showOnHover;if(!1!==a.options.button&&e)if(a.isMobile())t.addEventListener("click",(function(e){t.classList.contains("showPopup")||"quriobotPopupClose"===e.target.id||a.showPopup()}));else{function e(e){!t.classList.contains("showPopup")&&t.classList.contains("hoverModeOn")&&a.showPopup()}t.addEventListener("mouseenter",e),t.addEventListener("click",e),t.addEventListener("mouseleave",(function(e){t.classList.contains("showPopup")&&t.classList.contains("hoverModeOn")&&(t.classList.remove("showPopup"),t.setAttribute("aria-expanded",!1))}))}},getLangStorageKey:function(){var t="qbLang-"+this.options.use,e=this.options.visitor;return e&&(t=t+"-"+e.id),t},changePosition:function(t){switch(a.button.classList.remove("position--left"),a.container.classList.remove("position--left"),a.button.classList.remove("position--center"),a.container.classList.remove("position--center"),a.button.classList.remove("position--full_width"),a.container.classList.remove("position--full_width"),t){case"left":a.button.classList.add("position--left"),a.container.classList.add("position--left");break;case"center":a.button.classList.add("position--center"),a.container.classList.add("position--center");break;case"full_width":a.button.classList.add("position--full_width"),a.container.classList.add("position--full_width")}a.message.send("changePosition",t)},modal:function(t){a.container.className=t?a.container.className+" modal--opened":a.container.className.replace(/\s*modal--opened/g,""),a.message.send("modal",t)},addOffset:function(){if(a.options.botOffset){var t=a.options.botOffset.top,e=a.options.botOffset.bottom,o=a.container;(t||e)&&(o.style.setProperty("top",t?t.value+t.units:0,"important"),o.style.setProperty("bottom",e?e.value+e.units:0,"important"),o.style.setProperty("height","auto","important"))}},addAvatarOffset:function(){if(a.options.stickyAvatarOffset&&a.button){var t=a.options.stickyAvatarOffset.bottom,e=window.innerHeight-100;t&&a.button.style.setProperty("bottom",(t.value+100>e?e:t.value)+t.units,"important")}},load:{styles:function(){if(a.options.loadStyles){var t;if(document.head.insertAdjacentHTML("beforeend",a.options.widgetBaseCss),a.children.push(document.head.lastChild),a.options.widgetCustomCss)(t=document.createElement("style")).innerHTML=a.options.widgetCustomCss,a.children.push(t),document.head.appendChild(t);if(a.options.widgetCss)(t=document.createElement("link")).type="text/css",t.rel="stylesheet",t.href=a.options.baseUrl+a.options.widgetCss+"?v="+a.options.version,a.children.push(t),document.head.appendChild(t)}if(a.options.avatarImage||a.options.stickyAvatarPopup.image){var e=document.createElement("style");a.options.avatarImage&&(e.innerHTML+=".quriobotWidgetButton:before { background-image: url('"+a.options.avatarImage+"') !important; }\n"),a.options.stickyAvatarPopup.image&&(e.innerHTML+=".fold-out__avatar { background-image: url('"+a.options.avatarImage+"') !important; }\n",e.innerHTML+=".#content #message a.use-bot span { background-image: url('"+a.options.avatarImage+"') !important; }\n"),document.head.appendChild(e)}},constAllowIframe:"accelerometer; autoplay; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; magnetometer; microphone; midi; payment; picture-in-picture; usb; xr-spatial-tracking",widget:function(){var t=document.body,e=document.createElement("div");switch(e.id="quriobotWidgetContainer",e.className="quriobotWidgetContainer",e.style.setProperty("opacity",0),e.setAttribute("aria-hidden",!0),"boxed"===a.options.viewMode&&(e.className+=" viewMode--boxed"),a.options.position){case"left":e.className+=" position--left";break;case"center":e.className+=" position--center";break;case"full_width":e.className+=" position--full_width"}if("outOfQuota"!==a.options.mode){var o=document.createElement("div");o.insertAdjacentHTML("beforeend",a.options.dll);var n=document.createElement("script");n.type=o.lastChild.type,n.src=o.lastChild.src,n.innerHTML=o.lastChild.innerHTML,n.setAttribute("integrity",o.lastChild.getAttribute("integrity")),n.setAttribute("crossorigin",o.lastChild.getAttribute("crossorigin")),n.onload=function(){var o=document.createElement("iframe");if(o.id=a.options.wrapper,o.className="quriobotWidget",o.src=a.options.baseUrl+"/bot",a.options.staticUrl){var n=new a.URL(o.src,!0);n.query.staticURL=a.options.staticUrl,n.query.lang=a.options.language,o.src=n.toString()}o.setAttribute("frameborder","0"),o.setAttribute("aria-hidden","true"),o.setAttribute("role","dialog"),o.setAttribute("allow",this.constAllowIframe),e.appendChild(o);var i,r=a.options.language,s=a.numeral.locales;if(s&&s[r])i=r;else{var u=r&&r.split("-")[0];s&&s[u]&&(i=u)}if(i&&a.numeral.locale(i),t.appendChild(e),a.children.push(e),a.wrapper=document.getElementById(a.options.wrapper),a.container=e,a.options.useDynamicTranslation){var l=document.querySelectorAll("#gtranslate_wrapper .switcher .selected, .goog-te-menu-value")[0];l&&l.addEventListener("DOMSubtreeModified",(function(){a.inited&&(a.inited=!1,setTimeout((function(){var t;a.destroy();var e=window.google.translate.TranslateElement.getInstance();if(e){var o=e.j;!o||e.B&&e.B[o]||(t=o)}a.init({language:t})}),1e3))}))}a.load.foldOut(),a.addOffset()}.bind(this),document.head.appendChild(n)}},button:function(){if(!1!==a.options.button){var t=a.options.stickyAvatarPopup,e=t&&t.button,o=document.createElement(e?"div":"button");o.id=a.options.button,o.className="quriobotWidgetButton",o.style.setProperty("display","none"),a.options.startButtonTitle&&o.setAttribute("aria-label",a.options.startButtonTitle),o.setAttribute("tabindex","0"),e?(o.setAttribute("role","button"),o.setAttribute("aria-haspopup","dialog"),o.setAttribute("aria-expanded",!1)):o.setAttribute("role","button");var n=document.createElement("div");if(e&&(n.id=n.className="quriobotWidgetPopup",n.textContent=t.button,o.appendChild(n)),t&&t.showOnHover&&(o.className+=" hoverModeOn"),t&&t.title){var i=document.createElement("p");i.className="quriobotWidgetPopup--title",i.innerHTML=t.title,n.appendChild(i)}if(e){var r=document.createElement("button");r.className="quriobotWidgetPopup--button",r.id="quriobotPopupButton",r.textContent=t.button,r.setAttribute("role","button"),r.setAttribute("tabindex","0"),n.appendChild(r);try{n.childNodes[0].nodeValue=null}catch(t){}}if(t&&(t.autoShow||a.isMobile()||t.showOnExitIntent||t.showOnExitIntentMobile)){var s=document.createElement("button");s.className="quriobotWidgetPopup--close",s.id="quriobotPopupClose",s.setAttribute("aria-label",a.options.i18n.foldOut.close),n.appendChild(s)}switch(a.options.position){case"left":o.className+=" position--left";break;case"center":o.className+=" position--center";break;case"full_width":o.className+=" position--full_width"}a.children.push(o),document.body.appendChild(o),e&&(a.popupButton=document.getElementById("quriobotPopupButton"),a.popupClose=document.getElementById("quriobotPopupClose")),a.button=document.getElementById(a.options.button)}},videoIframe:function(){var t=a.options.background&&a.options.background.video;if(t){var e=document.getElementById("videoIframe");if(e){var o=document.getElementById("wallpaper"),n=t.id,i=t.dimensions,r=i.width/i.height;a.ytPlayer=new window.YT.Player("videoIframe",{videoId:n,playerVars:{autoplay:1,controls:0,loop:1,rel:0,playlist:n,playsinline:1},events:{onReady:function(t){s(),t.target.mute(),t.target.playVideo()},onStateChange:function(t){switch(t.data){case-1:o.classList.remove("loading");break;case 1:setTimeout((function(){o.classList.add("loading")}),1e3)}}}});var s=function(){var t=window.innerWidth,e=window.innerHeight,o=t/e>r,n=o?t:e*r,i=o?t/r:e;a.ytPlayer.setSize(n,i)};window.addEventListener("resize",s)}}},foldOut:function(){var t='<div class="fold-out" id="quriobotWidgetFoldOut">    <div class="fold-out__wrapper">        <div class="fold-out__header">            <div class="fold-out__avatar"></div>            <a class="fold-out__title" target="_blank" rel="noopener noreferrer"></a>            <button type="button" class="fold-out__close" title="'+a.options.i18n.foldOut.close+'"></button>        </div>        <div class="fold-out__iframe-wrapper">            <iframe class="fold-out__iframe" allow="'+this.constAllowIframe+'"></iframe>        </div>    </div></div>';document.getElementById("quriobotWidgetContainer").insertAdjacentHTML("beforeend",t)},whiteLabel:function(){var t=a.options.whiteLabel,e=a.options.stickyAvatarPopup;if(!t&&e&&!a.options.branding.url&&!a.options.branding.title){var o=document.createElement("a"),n=document.getElementById("quriobotWidgetPopup");n&&(o.className="brandingLabel",o.href=a.options.branding&&a.options.branding.url||a.options.i18n.branding.url,o.target="_blank",o.rel="noopener noreferrer",o.textContent=a.options.branding&&a.options.branding.title||a.options.i18n.branding.title,n.appendChild(o))}},warning:function(){console&&console.log&&console.log("Your browser is outdated, please use a modern one of the recent version.")}},setOptions:function(t){if(t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a.options[e]=t[e])},handleUserAction:function(t){var e=a.storedData.start?a.storedData.start:(new Date).toISOString(),o=["finish","liveChat"],n=o.indexOf(t.type)>-1?(new Date).toISOString():null;if(a.storedData={answers:t.answers,info:t.info,user:Object.assign({},a.options.visitor,{language:a.options.language}),name:a.options.use,isComplete:t.isComplete,hasLiveChat:t.hasLiveChat,start:e,stop:n,responseId:t.responseId},t.variables&&(this.variables=t.variables),"validate"===t.type)this.options.onValidate(a.storedData,(function(t,e,o){a.message.send("validate",{valid:t,errors:e,responses:o})}));else if(o.indexOf(t.type)>-1&&!a.exited){a.exited=!0;var i=function(){a.clearSavedBot(),a.message.send(t.type,{type:t.type})};this.options.onSave.length>2?this.options.onSave(a.storedData,t.responseId,i):(this.options.onSave(a.storedData,t.responseId),setTimeout((function(){i()}),0))}else{var r=t.type.toString();r="on"+r.substr(0,1).toUpperCase()+r.substr(1);try{a[r](a.storedData,t.question,t.answer)}catch(t){console&&console.warn(t)}}},handleExit:function(t,e){if(a.hasstarted){var o=a.storedData;if(o.answers&&o.answers.length&&!o.isComplete&&a.options.preventExitIfIncomplete&&!a.redirect&&!e&&a.isOpen&&o&&null!==o.answers&&!a.switched)return t&&(t.returnValue="Changes that you made may not be saved."),void(a.container.className.indexOf("show")<0&&a.show_frame());if(o.stop=o.stop?o.stop:(new Date).toISOString(),a.storedData=o,!(o.isComplete||a.exited||a.followRedirect||a.options.restoreState)){a.exited=!0;var n=function(){try{a.onExit(o)}catch(t){console.log(t)}a.message.send("exit")};this.options.onSave.length>2?this.options.onSave(o,o.responseId,n,e):(this.options.onSave(o,o.responseId),setTimeout((function(){n()}),0))}a.followRedirect=!1}},reportGA:function(t){if(a.options.ga){var e="/virtual/"+a.options.use+"/"+t;if(window.ga&&"function"==typeof window.ga.getAll)if(n=window.ga.getAll())for(var o=n.length-1;o>=0;o--)n[o].send({hitType:"pageview",page:e});window.gtag&&"function"==typeof window.gtag&&window.gtag("event","page_view",{page_path:e,page_title:t})}if(a.options.gaEvents){var n;if(window.ga&&"function"==typeof window.ga.getAll)if(n=window.ga.getAll())for(o=n.length-1;o>=0;o--)n[o].send({hitType:"event",eventCategory:"QB",eventAction:t,eventLabel:a.options.use});window.gtag&&"function"==typeof window.gtag&&window.gtag("event","QB",{bot:a.options.use,action:t})}if(a.options.gtmEvents){var i=[].filter.call(document.getElementsByTagName("script"),(function(t){return t.src&&t.src.startsWith("https://www.googletagmanager.com")}));if(i.length){var r=new a.URL(i[0].src,!0).query.l||"dataLayer";r&&window[r]&&window[r].push({event:"QB",bot:a.options.use,action:t})}}window.parent!==window&&window.parent.postMessage&&window.parent.postMessage({sentinel:"amp",type:"qb",qb:{name:t,path:a.options.use}},"*")},onLoad:function(t){this.reportGA("Load"),this.variables=t.variables,this.landingPage=t.landing_page,this.options.botData=t;try{a.options.onLoad(t)}catch(t){console.log(t)}},onInit:function(){this.reportGA("Init");try{a.options.onInit()}catch(t){console.log(t)}},onPopup:function(t){t&&(this.popupAutoShown=!0,this.soundNotification("popup")),this.reportGA("SoftStart");try{a.options.onSoftStart()}catch(t){console&&console.warn(t)}},onShow:function(){this.reportGA("Show");try{a.options.onShow()}catch(t){console&&console.warn(t)}},onHide:function(){this.reportGA("Hide");try{a.options.onHide()}catch(t){console&&console.warn(t)}},onStart:function(t){this.handleStart(),this.saveResponseId(t.responseId),a.switched&&(this.switched=!1,this.initLandingPage()),a.ytPlayer&&a.landingPage.background&&a.landingPage.background.video&&(a.landingPage.background.video.muted?a.ytPlayer.mute():a.ytPlayer.unMute()),this.reportGA("Start");try{a.options.onStart(t)}catch(t){console&&console.warn(t)}},onQuestion:function(t,e){this.reportGA("Question/"+e.code_name);try{a.options.onQuestion(t,e)}catch(t){console&&console.warn(t)}},onAnswer:function(t,e,o){if(e){this.reportGA("Answer/"+e.code_name),e.type&&"message"!==e.type.name&&this.soundNotification("answer");try{a.options.onAnswer(t,e,o)}catch(t){console&&console.warn(t)}}this.options.onUpdate(a.storedData,a.storedData.responseId,(function(){}))},onAnswerRedo:function(t,e,o){this.reportGA("Answer_edit_finish/"+e.code_name);try{a.options.onAnswerRedo(t,e,o)}catch(t){console&&console.warn(t)}},onFinish:function(t){this.reportGA("Finish");try{a.options.onFinish(t)}catch(t){console&&console.warn(t)}},onLeave:function(t){this.reportGA("Leave");try{a.options.onLeave(t)}catch(t){console&&console.warn(t)}},onRedo:function(t,e,o){this.reportGA("Answer_edit_start/"+e.code_name);try{a.options.onRedo(t,e,o)}catch(t){console&&console.warn(t)}},onReturn:function(t){this.reportGA("Return");try{a.options.onReturn(t)}catch(t){console&&console.warn(t)}},onExit:function(){this.reportGA("Exit");try{a.options.onExit()}catch(t){console&&console.warn(t)}},onLiveChat:function(t){this.reportGA("LiveChat");try{a.options.onLiveChat(t)}catch(t){console&&console.warn(t)}},getRestoreStorageKey:function(t,e){t||(t=a.options.use);var o="qbStoredData-"+t,n=a.options.visitor;return n&&(o=o+"-"+n.id),e&&(o=o+"-"+e),o},saveResponseId:function(t){a.setCookie("qbResponseId",t),a.options.visitor||(a.options.visitor={}),a.options.visitor.id||(a.setCookie("qbVisitorId",t),a.options.visitor.id=t,a.setCookie("qbResponseId",t))},getStoredResponseId:function(){return a.getCookie("qbResponseId")||""},getStoredVisitorId:function(){return a.getCookie("qbVisitorId",void 0,!0)},clearSavedResponseId:function(){a.deleteCookie("qbResponseId")},saveLiveChat:function(t){a.setCookie("qbLiveChat",!0)},liveChatCreated:function(t){a.setCookie("qbLiveChatId",t.id)},liveChatMessageUnread:0,liveChatMessageCreated:function(t){a.tabIsVisible||(a.liveChatMessageUnread++,a.Tinycon.setBubble(a.liveChatMessageUnread)),a.onLiveChatMessageCreated(t)},onLiveChatMessageCreated:function(t){this.reportGA("LiveChatMessageCreated");try{a.options.onLiveChatMessageCreated(t)}catch(t){console.log(t)}},attachTabVisibility:function(){var t,e,o={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(var n in o)if(n in document){e=n,t=o[n];break}document.addEventListener(t,this.handleTabVisibility.bind(this,e))},tabIsVisible:!0,handleTabVisibility:function(t,e){a.tabIsVisible=!e.target[t],a.tabIsVisible&&(a.liveChatMessageUnread=0,a.Tinycon&&a.Tinycon.reset())},getStoredLiveChatId:function(){return a.getCookie("qbLiveChatId")||""},getStoredLiveChat:function(){return a.getCookie("qbLiveChat")},clearSavedLiveChat:function(){a.deleteCookie("qbLiveChat"),a.deleteCookie("qbLiveChatId"),a.clearSavedResponseId()},shouldLiveChat:function(t){return"preview"!==a.options.mode&&Boolean(a.getStoredResponseId()&&a.getStoredLiveChat())},hasStoredBot:function(){return Boolean(a.store.get(a.getRestoreStorageKey()))},saveBot:function(t){var e=new Date(Date.now()+60*a.options.expiryTimeout*60*1e3).valueOf();t.isOpen=a.isOpen,t.language=a.options.language,t.hasSwitchedLanguage=a.hasSwitchedLanguage,a.store.set(a.getRestoreStorageKey(t.use),t,e)},getRestoreData:function(){return a.store.get(a.getRestoreStorageKey())},clearSavedBot:function(){if(a.store)try{a.store.remove(a.getRestoreStorageKey())}catch(t){console.log(t)}},message:{receive:function(t){if("string"==typeof t.data&&t.data){var e;try{e=JSON.parse(t.data)}catch(t){return}switch(e.action){case"checkNestedFrameRequest":a.checkNestedFrameRequest(t.origin);break;case"checkNestedFrameResponse":a.checkNestedFrameResponse();break;case"api":a.handleApiCall(e);break;case"hide":try{a.onLeave(a.storedData)}catch(t){console.log(t)}a.hide_frame();break;case"clearSavedBot":a.clearSavedBot();break;case"clearSavedLiveChat":a.clearSavedLiveChat();break;case"stop":case"done":try{a.onFinish(a.storedData)}catch(t){console.log(t)}a.hide_frame(),a.clearSavedLiveChat(),setTimeout((function(){a.message.send("purge"),a.activebot=null}),500);break;case"botHasData":a.botStatus.hasData=!0;try{a.onLoad(e.data)}catch(t){console.log(t)}break;case"botIsReady":a.botStatus.isReady=!0,a.message.send("requestNewBot");break;case"changePosition":a.changePosition(e.data);break;case"modal":a.modal(e.data);break;case"foldOutOpen":a.foldOutOpen(!0,e.data);break;case"foldOutClose":a.foldOutClose(e.data);break;case"navigate":parent.location.href=e.url;break;case"user":a.handleUserAction(e.data);break;case"redirect":a.handleRedirect(e.data);break;case"switch":e.data.language&&(a.hasSwitchedLanguage=!0),a.start(e.data.use,e.data.language);break;case"change":a.change(e);break;case"execute":a.execute(e);break;case"populateValues":a.populateValues(e.data);break;case"populateURL":a.requestPopulateURL(e.data);break;case"getStepOptions":a.getStepOptions(e.data.script,e.data.input,(function(t){a.message.send("getStepOptions",t)}));break;case"validateAnswer":a.validateAnswer(e.data.script,e.data.answer,(function(t){a.message.send("validateAnswer",t)}));break;case"getStepSettingsScript":a.getStepSettingsScript(e.data.script,(function(t){a.message.send("getStepSettingsScript",t)}));break;case"saveBot":a.saveBot(e.data);break;case"liveChat":a.saveLiveChat(e.data);break;case"liveChatCreated":a.liveChatCreated(e.data);break;case"liveChatMessageCreated":a.liveChatMessageCreated(e.data)}}},send:function(t,e){switch(t){case"requestNewBot":var o={action:"newBot",options:(Object.toJSON||JSON.stringify)(a.options)};break;case"startBot":o={action:"startBot",data:e};break;case"changePosition":o={action:"changePosition",data:e};break;case"modal":o={action:"modal",data:e};break;case"api":o={action:"api",data:e};break;case"goto":o={action:"goto",key:e};break;case"validate":o={action:"validate",data:e};break;case"reload":o={action:"reload",data:e};break;case"exit":o={action:"exit"};break;case"purge":o={action:"purge"};break;case"finish":o={action:"finish",data:e};break;case"liveChat":o={action:"liveChat",data:e};break;case"getStepOptions":o={action:"getStepOptions",data:e};break;case"validateAnswer":o={action:"validateAnswer",data:e};break;case"populateValues":o={action:"populateValues",data:e};break;case"populateURL":o={action:"populateURL",data:e};break;case"getStepSettingsScript":o={action:"getStepSettingsScript",data:e};break;case"foldOutClosed":o={action:"foldOutClosed"}}a.wrapper&&a.wrapper.contentWindow&&a.wrapper.contentWindow.postMessage((Object.toJSON||JSON.stringify)(o),"*")}},goto:function(t){a.message.send("goto",t)},handleStart:function(){a.hasstarted=!0,a.exited=!1,a.completed=!1},hasSelectedLanguage:function(){return a.hasSwitchedLanguage||a.store.get(this.getLangStorageKey())},restoreVisitor:function(){a.options.visitor||(a.options.visitor={}),a.options.visitor.id||(a.options.visitor.id=a.getStoredVisitorId())},start:function(t,e,o,n){e&&a.store.set(this.getLangStorageKey(),e),a.options.hasSelectedLanguage=a.hasSelectedLanguage(),a.options.hasSwitchedLanguage=a.hasSwitchedLanguage,o&&(a.options.entryPoint=o),a.button&&a.button.classList.add("loading");var i=a.hasstarted&&!a.switched;if(a.handleStart(),"outOfQuota"!==a.options.mode){if(a.options.useDynamicTranslation&&(a.options.documentLanguage=document.documentElement.lang),a.initBot(),a.options.language=e||a.options.language,t&&t!==a.options.use||e)return t=t||a.options.use,void a.switch(t,n,Boolean(e),o);if(a.options.use=t||a.options.use,a.botStatus.isReady&&a.botStatus.hasData)return clearTimeout(a.startRetry),a.container.className.indexOf("show")<0?a.activebot===a.options.use?(a.show_frame(i),void(o&&a.goto(o))):(a.completed=!1,a.activebot&&null!=a.activebot?void(a.activebot==a.options.use||a.switch(a.options.use,n,null,o)):(a.activebot=a.options.use,a.show_frame(),void(o&&a.goto(o)))):a.activebot!==a.options.use?void a.switch(a.options.use,n,null,o):void(o&&a.goto(o));a.startRetry=setTimeout((function(){a.start(t,e,o)}),50)}else window.location.href="https://quriobot.com"},hasSwitchedLanguage:!1,switch:function(t,e,o,n){var i={};if(a.switched=!0,!1!==e&&(this.handleExit(i),i.returnValue)){if(!confirm(i.returnValue))return;this.handleExit(i,!0)}this.hide_frame(),a.container&&(a.container.className=a.container.className+" switch"),a.botStatus.isReady=!1,a.botStatus.hasData=!1,a.load.styles();var r=a.options.use;t&&(a.options.botData=null,a.options.use=t,a.options.id=t.split("/")[1],a.activebot=t),setTimeout((function(){if(o){var t=new a.URL(a.wrapper.src,!0);t.query.lang=a.options.language,a.wrapper.src=t.toString()}else a.message.send("reload",{isComplete:e,use:r});setTimeout((function(){a.start(null,null,n)}),100)}),0)},restart:function(){this.switch()},shouldRestoreState:function(t){return"preview"!==a.options.mode&&!a.hasSwitchedLanguage&&(t&&(t.followRedirect||a.options.restoreState))},initLandingPage:function(){a.landingPage&&a.landingPage.background&&(a.landingPage.background.image||a.landingPage.background.video)&&a.change({what:"wallpaper",to:a.landingPage.background})},setVisitorCookie:function(t,e,o){var n=a.options.visitorTimeout,i=new Date(Date.now()+24*n*60*60*1e3).valueOf();a.setCookie(t,e,i,o)},show_frame:function(t){if(a.hasstarted){a.followRedirect=!1,a.isOpen=!0;var e=a.getRestoreData();e&&a.saveBot(e),a.setVisitorCookie("qbClosed",!1,!0),!1!==a.options.button&&(a.button.className=a.button.className.replace(/\s*show\b/g,""),a.button.classList.remove("loading"),a.button.setAttribute("aria-hidden",!0)),a.container.className=a.container.className.replace(/\s*switch/g,"")+" show",a.container.setAttribute("aria-hidden",!1),document.body&&document.body.oldBackgroundImage&&this.change({what:"wallpaper",to:{image:document.body.oldBackgroundImage.slice(5).slice(0,-2)}}),setTimeout((function(){if(!t){var e=a.getRestoreData();e&&(a.variables=e.variables,e.language&&(a.options.language=e.language,a.hasSwitchedLanguage||(a.hasSwitchedLanguage=e.hasSwitchedLanguage))),a.message.send("startBot",{restoreState:a.shouldRestoreState(e),restoreData:e,liveChat:a.shouldLiveChat(),liveChatId:a.getStoredLiveChatId(),responseId:a.getStoredResponseId()})}a.wrapper.focus()}),0);try{Bots.show()}catch(t){return}this.onShow()}else console.log("bot has not started yet!")},isOpen:!1,hide_frame:function(){a.isOpen=!1;var t=a.getRestoreData();t&&a.saveBot(t),a.setVisitorCookie("qbClosed",!0,!0),!1!==a.options.button&&a.button&&("never"!==a.options.showStickyAvatar&&(a.button.className=a.button.className+" show",a.button.setAttribute("aria-hidden",!1)),a.button.classList.contains("showPopup")&&(a.button.classList.remove("showPopup"),a.button.setAttribute("aria-expanded",!1)),a.options.stickyAvatarPopup.showOnHover&&!a.isMobile()&&a.button.classList.add("hoverModeOn")),a.container&&(a.container.className=a.container.className.replace(/\s*show/g,""),a.container.setAttribute("aria-hidden",!0));try{Bots.hide()}catch(t){}this.onHide()},foldOutClose:function(t){if("iframe"===t.type){var e=document.getElementsByClassName("fold-out")[0],o=document.getElementsByClassName("fold-out__iframe")[0];e.classList.remove("fold-out_mode_display"),o.setAttribute("src","about:blank")}a.container.classList.remove("foldOutMode"),a.message.send("foldOutClosed")},requestPopulateURL:function(t){this.populateURL(t,function(e){this.sendPopulatedURL(t,e)}.bind(this))},populateURL:function(t,e){a.async.mapSeries(["Source","Medium","Campaign","Term","Content","Custom"],function(t,e){var o="utm"+t;if(!a.options[o])return e(null,{item:void 0});a.populateValues(a.options[o],(function(o,n){return e(null,{item:t,value:n})}))}.bind(this),function(o,n){if(!o&&t){var i=new a.URL(t,!0);n.forEach((function(t){if(t.item)if("Custom"===t.item&&t.value){var e=new a.URL("?"+t.value,!0);Object.keys(e.query).forEach((function(t){i.query[t]=e.query[t]}))}else{var o="utm_"+t.item.toLowerCase();!i.query[o]&&t.value&&(i.query[o]=t.value)}})),e(i.toString())}else e(t)}.bind(this))},sendPopulatedURL:function(t,e){a.message.send("populateURL",{url:t,result:e})},handleRedirect:function(t){a.redirect=!0,a.followRedirect=Boolean(t.follow);var e=a.getRestoreData();e&&a.saveBot(e),this.populateURL(t.url,function(e){window.location.href!==e&&(window.open(e,t.target)||(window.location.href=e))}.bind(this))},foldOutOpen:function(t,e){if(a.container.classList.add("foldOutMode"),"iframe"===e.type){var o=document.getElementsByClassName("fold-out")[0],n=document.getElementsByClassName("fold-out__close")[0],i=document.getElementsByClassName("fold-out__wrapper")[0],r=document.getElementsByClassName("fold-out__iframe")[0],s=document.getElementsByClassName("fold-out__title")[0];if(n&&t&&n.addEventListener("click",function(){this.foldOutClose(e)}.bind(this),!1),e.data){var u=document.createTextNode(e.title||"");i.classList.add("fold-out_show_iframe"),this.populateURL(e.data,function(t){r.setAttribute("src",t),e.isTitleLinkDisabled?(s.removeAttribute("href"),s.removeAttribute("target")):s.setAttribute("href",t),s.innerHTML="",s.appendChild(u),setTimeout(function(){o.classList.add("fold-out_mode_display")}.bind(this),500)}.bind(this))}}},change:function(t){switch(t.what){case"wallpaper":var e=document.getElementById("wallpaper");if(e&&t.to){var o=t.to.image,n=t.to.video;n&&a.ytPlayer?(n.muted?a.ytPlayer.mute():a.ytPlayer.unMute(),a.ytPlayer.loadVideoById(n.id)):(e.classList.add("loading"),setTimeout((function(){o&&(o.startsWith("http://")||o.startsWith("https://"))?(document.body&&void 0===document.body.oldBackgroundImage&&(document.body.oldBackgroundImage=e.style.backgroundImage),e.style.setProperty("background-image","url('"+o+"')","important")):o&&(void 0===document.body.oldClassName&&(document.body.oldClassName=document.body.className),document.body.className=document.body.oldClassName+" "+o),setTimeout((function(){e.classList.remove("loading")}),300)}),750))}break;case"avatar":var i=document.getElementsByClassName("fold-out__avatar")[0],r="url('"+t.to+"')";i&&i.style.setProperty("background-image",r,"important");break;default:return}},execute:function(t){t.script&&i(t.script)()},getoptions:function(t){return a.options[t]},get:function(t){return a[t]},handleRequestURI:function(){var t;try{t=parent.location.href}catch(t){return}var e={};e.uri=t.split("?")[1]||!1,e.args={};var o=!!e.uri&&e.uri.split("&");if(o&&o.length){for(var n=0;n<o.length;n++){var i=o[n].split("=");e.args[i[0]]=decodeURIComponent(i[1])}var r=a.options.answerStorage||!1;if(r)for(n=0;n<r.length;n++){var s=r[n].arg,u=r[n].key,l=r[n].render,c=e.args[s]||!1,d=r[n].text||!1;c&&(a.options.savedAnswers||(a.options.savedAnswers=[]),a.options.savedAnswers.push({key:u,render:l,value:c,text:d}))}}},handleApiCall:function(t,e){if(e)a.message.send("api",t);else if(a.options.api){var o=a.options.api;o[t.data.type]?o[t.data.type](t.data,(function(e,o){e.type=t.data.type,a.handleApiCall(e,o)}),a.storedData):a.message.send("api",!1)}else a.message.send("api",!1)},api:function(t,e){if(a.options.api){var o=a.options.api;o[t.type]?o[t.type](t,(function(o,n){o.type=t.type,e(o,n)}),a.storedData):e(null)}else e(null)},getStepOptions:function(t,e,o){(t=i("("+t+")"))(e,this.getVariableValue.bind(this),o)},validateAnswer:function(t,e,o){(t=i("("+t+")"))(e,this.getVariableValue.bind(this),o)},getStepSettingsScript:function(t,e){(t=i("("+t+")"))(this.getVariableValue.bind(this),e)},getVariableValue:function(t,e){var o=this.storedData.answers,r={};this.variables.forEach((function(t){var e={type:t.type.value};switch(r[t.name]=e,t.type.value){case"script":try{var n=i("("+t.value+")");e.value=function(t){return n(t,r)}}catch(e){console.log("Error evaluating the variable: ",t.name,e)}break;case"step":var a=o&&o.filter((function(e){return e.question.key===t.step})).pop();null!=a&&(e.text=a.text.answers_text,e.value=a.value.value);break;case"string":e.value=e.text=t.value}}));var s=r[t],u="";if(s){if("script"===s.type)return s.value(e,r);u=s.text}else if(s=r[t.split(".")[0]]){if("script"===s.type)return s.value(e,r);u=s.value}return!u&&a.options.visitor&&"object"===n(a.options.visitor)&&["userAvatar","userFirstName","userGender","userID","userLanguage","userLastName","userTimezone"].forEach((function(e){if(t===e){var o=e.slice(4);(o=o.charAt(0).toLowerCase()+o.slice(1)).length<3&&(o=o.toLowerCase()),a.options.visitor[o]&&(u=a.options.visitor[o])}})),e?e(u):u},sendPopulatedValues:function(t,e){a.message.send("populateValues",{base:t,result:e})},populateValues:function(t,e){var o=t,n=t&&t.match(/{%(\d)*%}/gi),i=t&&t.match(/{%([\w.])*%}/gi),r=t&&t.match(/{{([\w.]\.?)*}}/gi),s=[],u=[],l=[];if(!n&&!i&&!r)return this.sendPopulatedValues(o,t),e&&e(o,t);n&&n.length>0&&n.forEach((function(t){s.push(parseInt(t.replace(/[{}%]/gi,"")))})),r&&r.length>0&&r.forEach((function(t){u.push(t.replace(/[{}]/gi,"").toString())})),i&&i.length>0&&i.forEach((function(t){s.push(t.replace(/[{}%]/gi,"").toString())}));var c=this.storedData.answers;if(n&&n.length>0){if(!c||!c.length)return n.forEach((function(e){t=t.replace(new RegExp(e,"gi"),"")})),this.sendPopulatedValues(o,t),e&&e(o,t);c&&c.length>=1&&c.forEach((function(t,e){s.indexOf(t.question.key)>=0&&l.push(t)})),n.forEach((function(e,o){var n=l[o]?l[o].text.answers_text:"";t=t.replace(new RegExp(e,"ig"),n)}))}var d=r&&r.length>0,p=i&&i.length>0;if(!p&&!d)return this.sendPopulatedValues(o,t),e&&e(o,t);var f=[];if(d&&(p&&r.forEach((function(t){i.erase(t)})),r.forEach(function(t,e){var o=u[e];f.push({variable:o,item:t})}.bind(this))),p)for(var h=0;h<i.length;h++){var g=i[h];if((g=(g=g.toString().trim()).replace(/[{}%]/gi,"").trim()).split(".").length>=2){var v=g.split(".")[0],b=g.split(".")[1],m=g.split(".")[2];if(m)if(isNaN(m))var w=this.getVariableValue(m);else var y=c.filter(function(t,e){return t.question.key==m}.bind(this)).pop();if("api"===v){var S={type:b,value:y?y.value.value:w,html:t,name:g};f.push(S)}}else;}a.async.reduce(f,t,function(t,e,o){e.html=t,e.variable?this.getVariableValue(e.variable,(function(n){return null==n&&(n=""),o(null,t.replace(new RegExp(e.item,"ig"),n))})):e.type?this.api(e,function(t){return o(null,this.populateFromApi(e.name,t))}.bind(this)):o(null,t,"")}.bind(this),function(t,n){t||(this.sendPopulatedValues(o,n),e&&e(o,n))}.bind(this))},populateFromApi:function(t,e){if(e&&"object"===n(e)){var o=e.base,i=e.content.toString();return o.replace("{%"+t+"%}",i)}return""},addMessageListener:function(){window.removeEventListener("message",a.message.receive,!1),window.addEventListener("message",a.message.receive,!1)},initBot:function(){if(!a.botInited){a.botInited=!0,a.load.widget(),a.addMessageListener();var t=!1,e=!1;window.addEventListener("beforeunload",function(e){t||(this.handleExit(e),e.returnValue||(t=!0))}.bind(this)),window.addEventListener("pagehide",function(o){if(t){if(e)return;return e=!0,void a.handleExit(o,!0)}t=!0,this.handleExit(o)}.bind(this)),window.addEventListener("unload",(function(t){e||(e=!0,a.handleExit(t,!0))}))}},soundNotification:function(t){if("start"!==t||!this.popupAutoShown){t={start:"bot_start",popup:"bot_start",answer:"bot_step_answer"}[t];var e=a.options.soundNotifications&&a.options.soundNotifications[t];if(e){var o=e,n=window.AudioContext||window.webkitAudioContext;if(n){var i,r,s,u,l,c,d=o.context||new n;if("running"===d.state)return i=o.frequency||466.2,r=o.interval||120,s=(o.duration||120)/1e3,u=o.rampValue||1e-5,l=o.count||2,(c=function(){l||(l=1),function t(e){!function(){var t=d.currentTime,e=d.createOscillator(),n=d.createGain();e.connect(n),n.connect(d.destination);var a=o.gain||n.gain.value;n.gain.setValueAtTime(0,t),n.gain.exponentialRampToValueAtTime(a,t),n.gain.exponentialRampToValueAtTime(u,t+s),e.onended=function(){n.disconnect(d.destination),e.disconnect(n)},e.type="sine",e.frequency.value=i,e.start(t),e.stop(t+s)}(),++e<l&&setTimeout(t,r,e)}(0)}).destroy=function(){o.context||d.close()},c(),c;setTimeout(function(){this.soundNotification(t)}.bind(this),5e3)}}}},nestedFrameCallback:null,checkNestedFrame:function(t){parent&&parent!==window&&parent.postMessage?(a.addMessageListener(),parent.postMessage(JSON.stringify({action:"checkNestedFrameRequest"}),"*"),this.nestedFrameCallback=t,setTimeout(function(){this.nestedFrameCallback&&this.nestedFrameCallback()}.bind(this),100)):t()},checkNestedFrameRequest:function(t){for(var e=document.getElementsByTagName("iframe"),o=0;o<e.length;o++){var n=e[o];n.getAttribute("id")!==a.options.wrapper&&n.contentWindow.postMessage(JSON.stringify({action:"checkNestedFrameResponse"}),t)}},checkNestedFrameResponse:function(){this.nestedFrameCallback=null},followRedirect:!1,initInstance:function(){a.popupAutoShown=!1,a.isOpen=!1,a.inited=!1,a.redirect=!1,a.completed=!1,a.activebot=null,a.button=null,a.popupButton=null,a.popupClose=null,a.wrapper=null,a.autoallowed=!0,a.hasstarted=!1,a.autoStart=!1,a.ytPlayer=null,a.botStatus={isReady:!1,hasData:!1},a.followRedirect=!1,a.children=[],a.exited=!1,a.variables=[],a.startRetry=null,a.botInited=!1,a.storedData={answers:null,info:null,name:"unknown",isComplete:!1,start:null,stop:null}},inited:!1,init:function(t,e){a.inited||a.checkNestedFrame((function(){a.initInstance(),a.inited=!0,a.setOptions(t),a.restoreVisitor(),a.handleRequestURI(),a.load.videoIframe(),a.load.styles(),a.load.button(),a.load.whiteLabel(),a.buttonstart(),a.addAvatarOffset(),a.avatarPopupClose(),t.preload&&a.initBot(),a.popupAutoShow(),a.showPopupHandle(),a.autostart(),a.onInit(),a.attachTabVisibility()}))},destroy:function(){a.children.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)})),a.children=[],a.ytPlayer&&a.ytPlayer.destroy(),a.initInstance()},hide:function(){a.hide_frame(),a.button.classList.remove("show")},show:function(t){t&&(a.autoStart||"never"===a.options.showStickyAvatar||"closed"===a.options.showStickyAvatar)||a.button.classList.add("show")}},r=a;o.default=r},{"cross-safe-eval":5}],5:[function(require,module,exports){var globals=Object.getOwnPropertyNames(this);module.exports=function makeSafeEval(include){for(var clearGlobals="",i=0,len=globals.length;i<len;i++)(include&&-1===include.indexOf(globals[i])||!include)&&(clearGlobals+="var "+globals[i]+" = undefined;");return function(operation){var globals=void 0;return eval("(function () {"+clearGlobals+";return "+operation.replace("this","_this")+"})()")}}},{}],6:[function(t,e,o){"use strict";function n(t,e){var o,n;if("function"==typeof e)void 0!==(n=e(t))&&(t=n);else if(Array.isArray(e))for(o=0;o<e.length;o++)void 0!==(n=e[o](t))&&(t=n);return t}function i(t,e){return"-"===t[0]&&Array.isArray(e)&&/^-\d+$/.test(t)?e.length+parseInt(t,10):t}function a(t){return"[object Object]"===Object.prototype.toString.call(t)}function r(t){return Object(t)===t}function s(t){return 0===Object.keys(t).length}function u(t,e){return t.indexOf("[")>=0&&(t=t.replace(/\[/g,".").replace(/]/g,"")),t.split(e)}var l=Object.prototype.hasOwnProperty;function c(t,e,o){if(!(this instanceof c))return new c(t,e,o);void 0===e&&(e=!1),void 0===o&&(o=!0),this.separator=t||".",this.override=e,this.useArray=o,this.keepArray=!1,this.cleanup=[]}var d=new c(".",!1,!0);function p(t){return function(){return d[t].apply(d,arguments)}}c.prototype._fill=function(t,e,o,i){var a=t.shift();if(t.length>0){if(e[a]=e[a]||(this.useArray&&function(t){return/^\d+$/.test(t)}(t[0])?[]:{}),!r(e[a])){if(!this.override){if(!r(o)||!s(o))throw new Error("Trying to redefine `"+a+"` which is a "+typeof e[a]);return}e[a]={}}this._fill(t,e[a],o,i)}else{if(!this.override&&r(e[a])&&!s(e[a])){if(!r(o)||!s(o))throw new Error("Trying to redefine non-empty obj['"+a+"']");return}e[a]=n(o,i)}},c.prototype.object=function(t,e){var o=this;return Object.keys(t).forEach((function(i){var a=void 0===e?null:e[i],r=u(i,o.separator).join(o.separator);-1!==r.indexOf(o.separator)?(o._fill(r.split(o.separator),t,t[i],a),delete t[i]):t[i]=n(t[i],a)})),t},c.prototype.str=function(t,e,o,i){return-1!==t.indexOf(this.separator)?this._fill(t.split(this.separator),o,e,i):o[t]=n(e,i),o},c.prototype.pick=function(t,e,o,n){var a,r,s,l,c;for(r=u(t,this.separator),a=0;a<r.length;a++){if(l=i(r[a],e),!e||"object"!=typeof e||!(l in e))return;if(a===r.length-1)return o?(s=e[l],n&&Array.isArray(e)?e.splice(l,1):delete e[l],Array.isArray(e)&&(c=r.slice(0,-1).join("."),-1===this.cleanup.indexOf(c)&&this.cleanup.push(c)),s):e[l];e=e[l]}return o&&Array.isArray(e)&&(e=e.filter((function(t){return void 0!==t}))),e},c.prototype.delete=function(t,e){return this.remove(t,e,!0)},c.prototype.remove=function(t,e,o){var n;if(this.cleanup=[],Array.isArray(t)){for(n=0;n<t.length;n++)this.pick(t[n],e,!0,o);return o||this._cleanup(e),e}return this.pick(t,e,!0,o)},c.prototype._cleanup=function(t){var e,o,n,i;if(this.cleanup.length){for(o=0;o<this.cleanup.length;o++)e=(e=(i=(n=this.cleanup[o].split(".")).splice(0,-1).join("."))?this.pick(i,t):t)[n[0]].filter((function(t){return void 0!==t})),this.set(this.cleanup[o],e,t);this.cleanup=[]}},c.prototype.del=c.prototype.remove,c.prototype.move=function(t,e,o,i,a){return"function"==typeof i||Array.isArray(i)?this.set(e,n(this.pick(t,o,!0),i),o,a):(a=i,this.set(e,this.pick(t,o,!0),o,a)),o},c.prototype.transfer=function(t,e,o,i,a,r){return"function"==typeof a||Array.isArray(a)?this.set(e,n(this.pick(t,o,!0),a),i,r):(r=a,this.set(e,this.pick(t,o,!0),i,r)),i},c.prototype.copy=function(t,e,o,i,a,r){return"function"==typeof a||Array.isArray(a)?this.set(e,n(JSON.parse(JSON.stringify(this.pick(t,o,!1))),a),i,r):(r=a,this.set(e,this.pick(t,o,!1),i,r)),i},c.prototype.set=function(t,e,o,n){var i,r,s,c;if(void 0===e)return o;for(s=u(t,this.separator),i=0;i<s.length;i++){if(c=s[i],i===s.length-1)if(n&&a(e)&&a(o[c]))for(r in e)l.call(e,r)&&(o[c][r]=e[r]);else if(n&&Array.isArray(o[c])&&Array.isArray(e))for(var d=0;d<e.length;d++)o[s[i]].push(e[d]);else o[c]=e;else l.call(o,c)&&(a(o[c])||Array.isArray(o[c]))||(/^\d+$/.test(s[i+1])?o[c]=[]:o[c]={});o=o[c]}return o},c.prototype.transform=function(t,e,o){return e=e||{},o=o||{},Object.keys(t).forEach(function(n){this.set(t[n],this.pick(n,e),o)}.bind(this)),o},c.prototype.dot=function(t,e,o){return e=e||{},o=o||[],Object.keys(t).forEach(function(n){if(r(t[n])&&(a(t[n])&&!s(t[n])||Array.isArray(t[n])&&!this.keepArray&&0!==t[n].length))return this.dot(t[n],e,o.concat(n));e[o.concat(n).join(this.separator)]=t[n]}.bind(this)),e},c.pick=p("pick"),c.move=p("move"),c.transfer=p("transfer"),c.transform=p("transform"),c.copy=p("copy"),c.object=p("object"),c.str=p("str"),c.set=p("set"),c.del=c.remove=p("remove"),c.dot=p("dot"),["override","overwrite"].forEach((function(t){Object.defineProperty(c,t,{get:function(){return d.override},set:function(t){d.override=!!t}})})),["useArray","keepArray"].forEach((function(t){Object.defineProperty(c,t,{get:function(){return d[t]},set:function(e){d[t]=e}})})),c._process=n,e.exports=c},{}],7:[function(t,e,o){(function(t){(function(){"use strict";function o(t,e,o){n(t,s,e,o),"DOMMouseScroll"==s&&n(t,"MozMousePixelScroll",e,o)}function n(t,e,o,n){t[a](Q+e,"wheel"==s?o:function(t){!t&&(t=window.event);var e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaY:0,deltaZ:0,clientX:t.clientX,clientY:t.clientY,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(){t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){t.stopImmediatePropagation&&t.stopImmediatePropagation()}};return"mousewheel"==s?(e.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX)):e.deltaY=t.detail,o(e)},n||!1)}function i(t,e,o,n){t[r](Q+e,o,n||!1)}var a,r,s,u,l,c=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},d="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},p="object"==typeof d&&d&&d.Object===Object&&d,f="object"==typeof self&&self&&self.Object===Object&&self,h=p||f||Function("return this")(),g=function(){return h.Date.now()},v=h.Symbol,b=Object.prototype,m=b.hasOwnProperty,w=b.toString,y=v?v.toStringTag:void 0,S=function(t){var e=m.call(t,y),o=t[y];try{t[y]=void 0;var n=!0}catch(t){}var i=w.call(t);return n&&(e?t[y]=o:delete t[y]),i},C=Object.prototype.toString,O=function(t){return C.call(t)},k="[object Null]",A="[object Undefined]",x=v?v.toStringTag:void 0,L=function(t){return null==t?void 0===t?A:k:x&&x in Object(t)?S(t):O(t)},E=function(t){return null!=t&&"object"==typeof t},q="[object Symbol]",_=function(t){return"symbol"==typeof t||E(t)&&L(t)==q},P=NaN,I=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,j=/^0o[0-7]+$/i,N=parseInt,M=function(t){if("number"==typeof t)return t;if(_(t))return P;if(c(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=c(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(I,"");var o=R.test(t);return o||j.test(t)?N(t.slice(2),o?2:8):T.test(t)?P:+t},B="Expected a function",U=Math.max,D=Math.min,V=function(t,e,o){function n(e){var o=l,n=d;return l=d=void 0,b=e,f=t.apply(n,o)}function i(t){return b=t,h=setTimeout(r,e),m?n(t):f}function a(t){var o=t-v;return void 0===v||o>=e||o<0||w&&t-b>=p}function r(){var t=g();if(a(t))return s(t);h=setTimeout(r,function(t){var o=e-(t-v);return w?D(o,p-(t-b)):o}(t))}function s(t){return h=void 0,y&&l?n(t):(l=d=void 0,f)}function u(){var t=g(),o=a(t);if(l=arguments,d=this,v=t,o){if(void 0===h)return i(v);if(w)return h=setTimeout(r,e),n(v)}return void 0===h&&(h=setTimeout(r,e)),f}var l,d,p,f,h,v,b=0,m=!1,w=!1,y=!0;if("function"!=typeof t)throw new TypeError(B);return e=M(e)||0,c(o)&&(m=!!o.leading,p=(w="maxWait"in o)?U(M(o.maxWait)||0,e):p,y="trailing"in o?!!o.trailing:y),u.cancel=function(){void 0!==h&&clearTimeout(h),b=0,l=v=d=h=void 0},u.flush=function(){return void 0===h?f:s(g())},u},F="Expected a function",H=function(t,e,o){var n=!0,i=!0;if("function"!=typeof t)throw new TypeError(F);return c(o)&&(n="leading"in o?!!o.leading:n,i="trailing"in o?!!o.trailing:i),V(t,e,{leading:n,maxWait:e,trailing:i})},W=(u=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return!("undefined"==typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!=typeof document&&document instanceof window.DocumentTouch))||!("undefined"==typeof navigator||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints)},t.exports=e.default},u(l={exports:{}},l.exports),l.exports),G=function(t){return t&&t.__esModule?t.default:t}(W),z=o,J=o,$=function(t,e,o){i(t,s,e,o),"DOMMouseScroll"==s&&i(t,"MozMousePixelScroll",e,o)},Q="";(function(t,e){t&&t.addEventListener?(a="addEventListener",r="removeEventListener"):(a="attachEvent",r="detachEvent",Q="on"),s=e?"onwheel"in e.createElement("div")?"wheel":void 0!==e.onmousewheel?"mousewheel":"DOMMouseScroll":"wheel"})("undefined"!=typeof window&&window,"undefined"!=typeof document&&document),z.addWheelListener=J,z.removeWheelListener=$;!function(){function t(t){this.value=t}function e(e){function o(i,a){try{var r=e[i](a),s=r.value;s instanceof t?Promise.resolve(s.value).then((function(t){o("next",t)}),(function(t){o("throw",t)})):n(r.done?"return":"normal",r.value)}catch(t){n("throw",t)}}function n(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}(i=i.next)?o(i.key,i.arg):a=null}var i,a;this._invoke=function(t,e){return new Promise((function(n,r){var s={key:t,arg:e,resolve:n,reject:r,next:null};a?a=a.next=s:(i=a=s,o(t,e))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}();var X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},K=!G();e.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=X({},{debug:!1,maxDisplays:99999,eventThrottle:200,showAfterInactiveSecondsDesktop:60,showAfterInactiveSecondsMobile:40,showAgainAfterSeconds:10,onExitIntent:function(){}},t),o=function(){for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];var i;e.debug&&(i=console).log.apply(i,["[exit-intent-mobile]"].concat(o))},n=0,i=H((function(){n<e.maxDisplays&&(o("display onExitIntent",++n),e.onExitIntent(),n>=e.maxDisplays&&d())}),1e3*e.showAgainAfterSeconds,{trailing:!1}),a=void 0;K&&(o("register mouseleave for desktop"),a=document.body.addEventListener("mouseleave",H((function(){o("mouseleave"),i()}),e.eventThrottle),!1));var r=K?e.showAfterInactiveSecondsDesktop:e.showAfterInactiveSecondsMobile;o("timeoutOnDevice",r);var s=void 0,u=function(){void 0!==r?(void 0!==s&&(o("clearTimeout()"),window.clearTimeout(s)),s=window.setTimeout((function(){o("display after timeout"),i()}),1e3*r)):o("display disabled")};u();var l=[],c=function(t,n){o("registering event for restartTimer",t,n);var i=n.addEventListener(t,H((function(t){o("throttled listener",t),u()}),e.eventThrottle),!1);return l.push({event:t,listener:i,target:n}),i};K&&(c("scroll",window),c("mousemove",window),J(window,(function(t){H((function(t){o("throttled wheel listener",t),u()}),e.eventThrottle)}))),G&&(c("touchstart",document.body),c("touchend",document.body),c("touchmove",document.body));var d=function(){o("removeEvents",n),a&&(document.body.removeEventListener("mouseleave",a),$(window,(function(){o("removeWheelListener")}))),l.forEach((function(t){var e=t.event,o=t.listener;t.target.removeEventListener(e,o)}))};return d}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,e,o){!function(t,n){"object"==typeof o&&void 0!==e?e.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self,function(){var e=t.Cookies,o=t.Cookies=n();o.noConflict=function(){return t.Cookies=e,o}}())}(this,(function(){"use strict";function t(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)t[n]=o[n]}return t}var e=function e(o,n){function i(e,i,a){if("undefined"!=typeof document){"number"==typeof(a=t({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var s in a)a[s]&&(r+="; "+s,!0!==a[s]&&(r+="="+a[s].split(";")[0]));return document.cookie=e+"="+o.write(i,e)+r}}return Object.create({set:i,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var e=document.cookie?document.cookie.split("; "):[],n={},i=0;i<e.length;i++){var a=e[i].split("="),r=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(n[s]=o.read(r,s),t===s)break}catch(t){}}return t?n[t]:n}},remove:function(e,o){i(e,"",t({},o,{expires:-1}))},withAttributes:function(o){return e(this.converter,t({},this.attributes,o))},withConverter:function(o){return e(t({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(o)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});return e}))},{}],9:[function(t,e,o){"use strict";var n=Object.prototype.hasOwnProperty;function i(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function a(t){try{return encodeURIComponent(t)}catch(t){return null}}o.stringify=function(t,e){e=e||"";var o,i,r=[];for(i in"string"!=typeof e&&(e="?"),t)if(n.call(t,i)){if((o=t[i])||null!=o&&!isNaN(o)||(o=""),i=a(i),o=a(o),null===i||null===o)continue;r.push(i+"="+o)}return r.length?e+r.join("&"):""},o.parse=function(t){for(var e,o=/([^=?#&]+)=?([^&]*)/g,n={};e=o.exec(t);){var a=i(e[1]),r=i(e[2]);null===a||null===r||a in n||(n[a]=r)}return n}},{}],10:[function(t,e,o){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],11:[function(t,e,o){e.exports=function(){var t={};return{defaults:function(e,o){t=o},get:function(e,o){var n=e();return void 0!==n?n:t[o]}}}},{}],12:[function(t,e,o){var n="expire_mixin";e.exports=function(){var t=this.createStore(this.storage,null,this._namespacePrefix+n);return{set:function(e,o,i,a){this.hasNamespace(n)||t.set(o,a);return e()},get:function(t,o){this.hasNamespace(n)||e.call(this,o);return t()},remove:function(e,o){this.hasNamespace(n)||t.remove(o);return e()},getExpiration:function(e,o){return t.get(o)},removeExpiredKeys:function(t){var o=[];this.each((function(t,e){o.push(e)}));for(var n=0;n<o.length;n++)e.call(this,o[n])}};function e(e){t.get(e,Number.MAX_VALUE)<=(new Date).getTime()&&(this.raw.remove(e),t.remove(e))}}},{}],13:[function(t,e,o){var n=t("./util"),i=n.slice,a=n.pluck,r=n.each,s=n.bind,u=n.create,l=n.isList,c=n.isFunction,d=n.isObject;e.exports={createStore:f};var p={version:"2.0.12",enabled:!1,get:function(t,e){var o=this.storage.read(this._namespacePrefix+t);return this._deserialize(o,e)},set:function(t,e){return void 0===e?this.remove(t):(this.storage.write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this.storage.remove(this._namespacePrefix+t)},each:function(t){var e=this;this.storage.each((function(o,n){t.call(e,e._deserialize(o),(n||"").replace(e._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},createStore:function(){return f.apply(this,arguments)},addPlugin:function(t){this._addPlugin(t)},namespace:function(t){return f(this.storage,this.plugins,t)}};function f(t,e,o){o||(o=""),t&&!l(t)&&(t=[t]),e&&!l(e)&&(e=[e]);var n=o?"__storejs_"+o+"_":"",f=o?new RegExp("^"+n):null;if(!/^[a-zA-Z0-9_\-]*$/.test(o))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var h={_namespacePrefix:n,_namespaceRegexp:f,_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var o=t.read(e)===e;return t.remove(e),o}catch(t){return!1}},_assignPluginFnProp:function(t,e){var o=this[e];this[e]=function(){var e=i(arguments,0),n=this;function a(){if(o)return r(arguments,(function(t,o){e[o]=t})),o.apply(n,e)}var s=[a].concat(e);return t.apply(n,s)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var o="";try{o=JSON.parse(t)}catch(e){o=t}return void 0!==o?o:e},_addStorage:function(t){this.enabled||this._testStorage(t)&&(this.storage=t,this.enabled=!0)},_addPlugin:function(t){var e=this;if(l(t))r(t,(function(t){e._addPlugin(t)}));else if(!a(this.plugins,(function(e){return t===e}))){if(this.plugins.push(t),!c(t))throw new Error("Plugins must be function values that return objects");var o=t.call(this);if(!d(o))throw new Error("Plugins must return an object of function properties");r(o,(function(o,n){if(!c(o))throw new Error("Bad plugin property: "+n+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(o,n)}))}},addStorage:function(t){!function(){var t="undefined"==typeof console?null:console;if(t){(t.warn?t.warn:t.log).apply(t,arguments)}}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(t)}},g=u(h,p,{plugins:[]});return g.raw={},r(g,(function(t,e){c(t)&&(g.raw[e]=s(g,t))})),r(t,(function(t){g._addStorage(t)})),r(e,(function(t){g._addPlugin(t)})),g}},{"./util":14}],14:[function(t,e,o){(function(t){(function(){var o=Object.assign?Object.assign:function(t,e,o,n){for(var i=1;i<arguments.length;i++)s(Object(arguments[i]),(function(e,o){t[o]=e}));return t},n=function(){if(Object.create)return function(t,e,n,i){var a=r(arguments,1);return o.apply(this,[Object.create(t)].concat(a))};{function t(){}return function(e,n,i,a){var s=r(arguments,1);return t.prototype=e,o.apply(this,[new t].concat(s))}}}(),i=String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},a="undefined"!=typeof window?window:t;function r(t,e){return Array.prototype.slice.call(t,e||0)}function s(t,e){u(t,(function(t,o){return e(t,o),!1}))}function u(t,e){if(l(t)){for(var o=0;o<t.length;o++)if(e(t[o],o))return t[o]}else for(var n in t)if(t.hasOwnProperty(n)&&e(t[n],n))return t[n]}function l(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}e.exports={assign:o,create:n,trim:i,bind:function(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}},slice:r,each:s,map:function(t,e){var o=l(t)?[]:{};return u(t,(function(t,n){return o[n]=e(t,n),!1})),o},pluck:u,isList:l,isFunction:function(t){return t&&"[object Function]"==={}.toString.call(t)},isObject:function(t){return t&&"[object Object]"==={}.toString.call(t)},Global:a}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,e,o){var n=t("../src/util"),i=n.Global,a=n.trim;e.exports={name:"cookieStorage",read:function(t){if(!t||!l(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(r.cookie.replace(new RegExp(e),"$1"))},write:function(t,e){if(!t)return;r.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:s,remove:u,clearAll:function(){s((function(t,e){u(e)}))}};var r=i.document;function s(t){for(var e=r.cookie.split(/; ?/g),o=e.length-1;o>=0;o--)if(a(e[o])){var n=e[o].split("="),i=unescape(n[0]);t(unescape(n[1]),i)}}function u(t){t&&l(t)&&(r.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function l(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(r.cookie)}},{"../src/util":14}],16:[function(t,e,o){var n=t("../src/util").Global;function i(){return n.localStorage}function a(t){return i().getItem(t)}e.exports={name:"localStorage",read:a,write:function(t,e){return i().setItem(t,e)},each:function(t){for(var e=i().length-1;e>=0;e--){var o=i().key(e);t(a(o),o)}},remove:function(t){return i().removeItem(t)},clearAll:function(){return i().clear()}}},{"../src/util":14}],17:[function(t,e,o){e.exports={name:"memoryStorage",read:function(t){return n[t]},write:function(t,e){n[t]=e},each:function(t){for(var e in n)n.hasOwnProperty(e)&&t(n[e],e)},remove:function(t){delete n[t]},clearAll:function(t){n={}}};var n={}},{}],18:[function(t,e,o){
/*!
 * Tinycon - A small library for manipulating the Favicon
 * Tom Moor, http://tommoor.com
 * Copyright (c) 2015 Tom Moor
 * @license MIT Licensed
 */
var n,i,a,r,s,u,l,c,d,p,f,h,g,v,b,m,w,y,S,C,O,k,A;i={},a=null,r=null,s=null,u=null,l={},c=Math.ceil(window.devicePixelRatio)||1,d=16*c,p={width:7,height:9,font:10*c+"px arial",color:"#ffffff",background:"#F03D25",fallback:!0,crossOrigin:!0,abbreviate:!0},n=navigator.userAgent.toLowerCase(),f=function(t){return-1!==n.indexOf(t)},h=f("trident"),f("chrome"),g=f("chrome")||f("safari"),v=f("safari")&&!f("chrome"),b=f("mozilla")&&!f("chrome")&&!f("safari"),m=function(){if(!r||!a){var t=function(){for(var t=document.getElementsByTagName("link"),e=0,o=t.length;e<o;e++)if((t[e].getAttribute("rel")||"").match(/\bicon\b/i))return t[e];return!1}();a=t?t.getAttribute("href"):"/favicon.ico",r||(r=a)}return a},w=function(){return u||((u=document.createElement("canvas")).width=d,u.height=d),u},y=function(t){if(t){!function(){for(var t=document.getElementsByTagName("link"),e=0,o=t.length;e<o;e++)void 0!==t[e]&&(t[e].getAttribute("rel")||"").match(/\bicon\b/i)&&t[e].parentNode.removeChild(t[e])}();var e=document.createElement("link");e.type="image/x-icon",e.rel="icon",e.href=t,document.getElementsByTagName("head")[0].appendChild(e)}},S=function(t){if(l.fallback){var e=document.title;"("===e[0]&&(e=e.slice(e.indexOf(" "))),document.title=(t+"").length>0?"("+t+") "+e:e}},C=function(t,e,o){"number"==typeof e&&e>99&&l.abbreviate&&(e=k(e));var n=(e+"").length-1,i=l.width*c+6*c*n,a=l.height*c,r=d-a,s=d-i-c,u=16*c,p=16*c,f=2*c;t.font=(g?"bold ":"")+l.font,t.fillStyle=l.background,t.strokeStyle=l.background,t.lineWidth=c,t.beginPath(),t.moveTo(s+f,r),t.quadraticCurveTo(s,r,s,r+f),t.lineTo(s,u-f),t.quadraticCurveTo(s,u,s+f,u),t.lineTo(p-f,u),t.quadraticCurveTo(p,u,p,u-f),t.lineTo(p,r+f),t.quadraticCurveTo(p,r,p-f,r),t.closePath(),t.fill(),t.beginPath(),t.strokeStyle="rgba(0,0,0,0.3)",t.moveTo(s+f/2,u),t.lineTo(p-f/2,u),t.stroke(),t.fillStyle=l.color,t.textAlign="right",t.textBaseline="top",t.fillText(e,2===c?29:15,b?7*c:6*c)},O=function(){w().getContext&&y(w().toDataURL())},k=function(t){for(var e=[["G",1e9],["M",1e6],["k",1e3]],o=0;o<e.length;++o)if(t>=e[o][1]){t=A(t/e[o][1])+e[o][0];break}return t},A=function(t,e){return new Number(t).toFixed(e)},i.setOptions=function(t){for(var e in l={},t.colour&&(t.color=t.colour),p)l[e]=t.hasOwnProperty(e)?t[e]:p[e];return this},i.setImage=function(t){return a=t,O(),this},i.setBubble=function(t,e){return function(t,e){if(!w().getContext||h||v||"force"===l.fallback)return S(t);var o=w().getContext("2d"),n=(e=e||"#000000",m());(s=document.createElement("img")).onload=function(){o.clearRect(0,0,d,d),o.drawImage(s,0,0,s.width,s.height,0,0,d,d),(t+"").length>0&&C(o,t,e),O()},!n.match(/^data/)&&l.crossOrigin&&(s.crossOrigin="anonymous"),s.src=n}(t=t||"",e),this},i.reset=function(){a=r,y(r)},i.setOptions(p),"function"==typeof define&&define.amd?define(i):void 0!==e?e.exports=i:window.Tinycon=i},{}],19:[function(t,e,o){(function(o){(function(){"use strict";var n=t("requires-port"),i=t("querystringify"),a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,r=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/,u=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function l(t){return(t||"").toString().replace(u,"")}var c=[["#","hash"],["?","query"],function(t,e){return f(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function p(t){var e,n=("undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{}).location||{},i={},r=typeof(t=t||n);if("blob:"===t.protocol)i=new g(unescape(t.pathname),{});else if("string"===r)for(e in i=new g(t,{}),d)delete i[e];else if("object"===r){for(e in t)e in d||(i[e]=t[e]);void 0===i.slashes&&(i.slashes=a.test(t.href))}return i}function f(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function h(t,e){t=l(t),e=e||{};var o,n=r.exec(t),i=n[1]?n[1].toLowerCase():"",a=!!n[2],s=!!n[3],u=0;return a?s?(o=n[2]+n[3]+n[4],u=n[2].length+n[3].length):(o=n[2]+n[4],u=n[2].length):s?(o=n[3]+n[4],u=n[3].length):o=n[4],"file:"===i?u>=2&&(o=o.slice(2)):f(i)?o=n[4]:i?a&&(o=o.slice(2)):u>=2&&f(e.protocol)&&(o=n[4]),{protocol:i,slashes:a||f(i),slashesCount:u,rest:o}}function g(t,e,o){if(t=l(t),!(this instanceof g))return new g(t,e,o);var a,r,u,d,v,b,m=c.slice(),w=typeof e,y=this,S=0;for("object"!==w&&"string"!==w&&(o=e,e=null),o&&"function"!=typeof o&&(o=i.parse),a=!(r=h(t||"",e=p(e))).protocol&&!r.slashes,y.slashes=r.slashes||a&&e.slashes,y.protocol=r.protocol||e.protocol||"",t=r.rest,("file:"===r.protocol&&(2!==r.slashesCount||s.test(t))||!r.slashes&&(r.protocol||r.slashesCount<2||!f(y.protocol)))&&(m[3]=[/(.*)/,"pathname"]);S<m.length;S++)"function"!=typeof(d=m[S])?(u=d[0],b=d[1],u!=u?y[b]=t:"string"==typeof u?~(v=t.indexOf(u))&&("number"==typeof d[2]?(y[b]=t.slice(0,v),t=t.slice(v+d[2])):(y[b]=t.slice(v),t=t.slice(0,v))):(v=u.exec(t))&&(y[b]=v[1],t=t.slice(0,v.index)),y[b]=y[b]||a&&d[3]&&e[b]||"",d[4]&&(y[b]=y[b].toLowerCase())):t=d(t,y);o&&(y.query=o(y.query)),a&&e.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==e.pathname)&&(y.pathname=function(t,e){if(""===t)return e;for(var o=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=o.length,i=o[n-1],a=!1,r=0;n--;)"."===o[n]?o.splice(n,1):".."===o[n]?(o.splice(n,1),r++):r&&(0===n&&(a=!0),o.splice(n,1),r--);return a&&o.unshift(""),"."!==i&&".."!==i||o.push(""),o.join("/")}(y.pathname,e.pathname)),"/"!==y.pathname.charAt(0)&&f(y.protocol)&&(y.pathname="/"+y.pathname),n(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(d=y.auth.split(":"),y.username=d[0]||"",y.password=d[1]||""),y.origin="file:"!==y.protocol&&f(y.protocol)&&y.host?y.protocol+"//"+y.host:"null",y.href=y.toString()}g.prototype={set:function(t,e,o){var a=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(o||i.parse)(e)),a[t]=e;break;case"port":a[t]=e,n(e,a.protocol)?e&&(a.host=a.hostname+":"+e):(a.host=a.hostname,a[t]="");break;case"hostname":a[t]=e,a.port&&(e+=":"+a.port),a.host=e;break;case"host":a[t]=e,/:\d+$/.test(e)?(e=e.split(":"),a.port=e.pop(),a.hostname=e.join(":")):(a.hostname=e,a.port="");break;case"protocol":a.protocol=e.toLowerCase(),a.slashes=!o;break;case"pathname":case"hash":if(e){var r="pathname"===t?"/":"#";a[t]=e.charAt(0)!==r?r+e:e}else a[t]=e;break;default:a[t]=e}for(var s=0;s<c.length;s++){var u=c[s];u[4]&&(a[u[1]]=a[u[1]].toLowerCase())}return a.origin="file:"!==a.protocol&&f(a.protocol)&&a.host?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,o=this,n=o.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var a=n+(o.slashes||f(o.protocol)?"//":"");return o.username&&(a+=o.username,o.password&&(a+=":"+o.password),a+="@"),a+=o.host+o.pathname,(e="object"==typeof o.query?t(o.query):o.query)&&(a+="?"!==e.charAt(0)?"?"+e:e),o.hash&&(a+=o.hash),a}},g.extractProtocol=h,g.location=p,g.trimLeft=l,g.qs=i,e.exports=g}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:9,"requires-port":10}]},{},[3]);
//# sourceMappingURL=/website/js/widget2.db8fbf7f.min.js.map
